app.controller('HomeCtrl', ['$scope', '$http', '$routeParams', 'uiGmapGoogleMapApi', '$timeout', function($scope, $http, $routeParams, uiGmapGoogleMapApi, $timeout){
  
  $scope.outPanel = false;

  $scope.showPanel = function(){
    $scope.outPanel = !$scope.outPanel;
  }


  // // uiGmapGoogleMapApi.then(function(maps){

  // var directionsService = new google.maps.DirectionsService();

  // var request = 
  // {
  //   // origin: $scope.trip.pickupLocation,
  //   // destination: $scope.trip.dropOfflocation,
  //   // DRIVING, BICYCLING, TRANSIT, WALKING
  //   // travelMode: google.maps.DirectionsTravelMode.WALKING 
  // };

  // var mapOptions = {
  //   zoom: 12,
  //   center: { 
  //     latitude: 22.268394, 
  //     longitude: 114.186700
  //   },
  //   //ROADMAP, SATELLITE, HYBRID, TERRAIN
  //   mapTypeId: google.maps.MapTypeId.ROAMAP 
  // };

  var map;
  $scope.map = { 

    // center: 
    //   { latitude: 22.3700556, longitude: 114.1223784 },
    // zoom: 11,
    // bounds: 
    //   { latitude: 22.1634178, longitude: 113.5629425 }

    center: { 
      latitude: 22.268394, //happy valley
      longitude: 114.186700 
    },
    zoom: 12,
    bounds: {}
  };
  
  $scope.options = {
    // allow zoom in zoom out by scrolling
    scrollwheel: true
  };

  // initial markers set, see html models = 'trails'
  $scope.trails = [{ 
      title: "Dragon's Back",
      latitude: 22.241165, 
      longitude: 114.241569,
      id: 1,
      show: false,
      description: ""
  },{
      title: "Victoria Peak",
      latitude: 22.275590,
      longitude: 114.143910,
      id: 2,
      show: false,
      description: ""
  }];

  // the push must wait til the map is ready in order to show up
  // $scope.trails.push(trail);
  $scope.addMarker = function(){
    var newtrail = { 
        title: "Happy Valley",
        latitude: 22.268394, 
        longitude: 114.186700,
        description: "",
        show: false,
        id: 3,
    };
    $scope.trails.push(newtrail);
  }

<<<<<<< HEAD
  $scope.polylines = [
    {
      id: 1,
      path: [
        {
          latitude: 45,
          longitude: -74
        },
        {
          latitude: 30,
          longitude: -89
        },
        {
          latitude: 37,
          longitude: -122
        },
        {
          latitude: 60,
          longitude: -95
        }
      ],
      stroke: {
        color: '#6060FB',
        weight: 3
      },
      editable: true,
      draggable: true,
      geodesic: true,
      visible: true,
      icons: [{
          icon: {
            path: google.maps.SymbolPath.FORWARD
          },
        offset: '25px',
        repeat: '50px'
      }]
    }
    // {
    //   id: 2,
    //   path: [
    //     {
    //       latitude: 47,
    //       longitude: -74
    //     },
    //     {
    //       latitude: 32,
    //       longitude: -89
    //     },
    //     {
    //       latitude: 39,
    //       longitude: -122
    //     },
    //     {
    //       latitude: 62,
    //       longitude: -95
    //     }
    //   ],
    //   stroke: {
    //     color: '#6060FB',
    //     weight: 3
    //   },
    //   editable: true,
    //   draggable: true,
    //   geodesic: true,
    //   visible: true,
    //   icons: [{
    //     icon: {
    //       path: google.maps.SymbolPath.BACKWARD_OPEN_ARROW
    //     },
    //     offset: '25px',
    //     repeat: '50px'
    //   }]
    // }
  ];
=======
// onclick the window shows up, with title and description
  $scope.trails.onMouseOver = function() {
      trails.show = !trails.show;
  };

  // $scope.clickEventsObject = {
  //     mouseover: trailsInfoMouseOver,
  //     mouseout: trailsInfoMouseOut,
  // };

  // map.getDirections().directions().then( function( directions ) { 
  //   console.log(directions); 
  // });
>>>>>>> angular google map windows for markers work


  // slider for durations (mins)
  $scope.sliderConfig = {
      // value:100,
      min: 0,
      max: 500,
      step: 50
  }
  $scope.duration = 0;
  $scope.setDuration = function (duration){
    $scope.duration = duration; 
  }

  // slider for difficulties (0-5)
  $scope.sliderDifficultConfig = {
      min: 0,
      max: 5,
      step: 1
  }
  $scope.difficulty = 0;
  $scope.setDifficulty = function (difficulty){
    $scope.difficulty = difficulty; 
  }

  // slider for scenary (0-5)
  $scope.sliderScenaryConfig = {
      min: 0,
      max: 5,
      step: 1
  }
  $scope.scenary = 0;
  $scope.setScenary = function (scenary){
    $scope.scenary = scenary; 
  }


}]);


